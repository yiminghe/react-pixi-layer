(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/button.019e146a.png"},124:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(14),__webpack_require__(85);var react_reconciler=__webpack_require__(285),react_reconciler_default=__webpack_require__.n(react_reconciler),components=(__webpack_require__(27),__webpack_require__(616),__webpack_require__(36),__webpack_require__(51),__webpack_require__(52),__webpack_require__(89),__webpack_require__(28),{}),lodash_set=__webpack_require__(177),lodash_set_default=__webpack_require__.n(lodash_set);function forEachInstance(instance,fn){instance.isSupportReactLayers?Object.keys(instance.layers).forEach((function(app){fn(instance.layers[app],app)})):fn(instance)}function invalidateAppByComponent(c){var app=function getAppByComponent(c){var component=c;if(void 0!==component._reactApp)return component._reactApp;for(;c;){if(void 0!==c._reactApp)return component._reactApp=c._reactApp,c._reactApp;c=c.parent}return component._reactApp=null,null}(c);app&&app.asyncRender&&app.asyncRender()}function appendChild(parent,child){child.isSupportReactLayers?forEachInstance(child,(function(instance,app){parent.layers[app].addChild(instance),invalidateAppByComponent(parent.layers[app])})):parent.isSupportReactLayers?forEachInstance(parent,(function(instance){instance.addChild(child),invalidateAppByComponent(instance)})):(parent.addChild(child),invalidateAppByComponent(parent))}function insertBefore(parent,child,beforeChild){var beforeChildIndex=parent.getChildIndex(beforeChild);child.isSupportReactLayers?forEachInstance(child,(function(instance,app){parent.layers[app].addChildAt(instance,beforeChildIndex),invalidateAppByComponent(parent.layers[app])})):parent.isSupportReactLayers?forEachInstance(parent,(function(instance){instance.addChildAt(child,beforeChildIndex),invalidateAppByComponent(instance)})):(parent.addChildAt(child,beforeChildIndex),invalidateAppByComponent(parent))}function removeChild(parent,child){child.isSupportReactLayers?forEachInstance(child,(function(instance,app){parent.layers[app].removeChild(instance),invalidateAppByComponent(parent.layers[app])})):parent.isSupportReactLayers?forEachInstance(parent,(function(instance){instance.removeChild(child),invalidateAppByComponent(instance)})):(parent.removeChild(child),invalidateAppByComponent(parent))}var eventReg=/^on([A-Z]\w*)/;function hostConfig_update(inst,updatePayload,oldProps,newProps){var eventName;updatePayload.forEach((function(propName){"children"===propName||((eventName=function getEventName(name){var match=name.match(eventReg);return match&&match[1]&&match[1].toLowerCase()}(propName))&&oldProps&&oldProps[propName]&&inst.removeListener(eventName),newProps[propName]||"number"==typeof newProps[propName]?eventName?function addEvent(inst,eventName,fn){inst.on(eventName,(function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];eventHandler.batchedUpdates((function(){return fn.apply(void 0,args)}))}))}(inst,eventName,newProps[propName]):lodash_set_default()(inst,propName,newProps[propName]):!eventName&&lodash_set_default()(inst,propName,void 0))}))}function hostConfig_init(inst,props){hostConfig_update(inst,Object.keys(props),null,props)}var hostConfig={now:Date.now,getPublicInstance:function getPublicInstance(inst){return inst&&inst.isSupportReactLayers?inst.layers:inst},getRootHostContext:function getRootHostContext(){return{}},shouldSetTextContent:function shouldSetTextContent(){return!1},prepareForCommit:function prepareForCommit(){},resetAfterCommit:function resetAfterCommit(){},getChildHostContext:function getChildHostContext(parentContext){return parentContext},createInstance:function createInstance(type,newProps,container){var Component=components[type];if(Component)return function mapLayers(layersProp,fn){if(!layersProp)return fn();var ret={layers:{},isSupportReactLayers:1},layers=ret.layers;return"string"==typeof layersProp?layers[layersProp]=fn(layersProp):layersProp.forEach((function(app){layers[app]=fn(app)})),ret}(container.layers&&newProps.layers,(function(app){var inst=new Component;return app&&(inst._reactApp=container.apps[app]),inst}));throw new Error("Can not find Component:",type)},createTextInstance:function createTextInstance(){},commitTextUpdate:function commitTextUpdate(){},prepareUpdate:function prepareUpdate(node,type,oldProps,newProps){var diff=[];return Object.keys(newProps).forEach((function(k){newProps[k]!==oldProps[k]&&diff.push(k)})),Object.keys(oldProps).forEach((function(k){k in newProps||diff.push(k)})),diff},commitUpdate:function commitUpdate(nodes,updatePayload,type,oldProps,newProps){forEachInstance(nodes,(function(node){node.reactPropsUpdate?node.reactPropsUpdate(updatePayload,oldProps,newProps,hostConfig_update):hostConfig_update(node,updatePayload,oldProps,newProps),updatePayload.length&&invalidateAppByComponent(node)}))},appendInitialChild:appendChild,appendChild:appendChild,insertBefore:insertBefore,removeChild:removeChild,finalizeInitialChildren:function finalizeInitialChildren(inst2,type,props){forEachInstance(inst2,(function(inst){inst.reactPropsInit?inst.reactPropsInit(props,hostConfig_init):hostConfig_init(inst,props)}))},appendChildToContainer:appendChild,insertInContainerBefore:insertBefore,removeChildFromContainer:removeChild,finalizeContainerChildren:function finalizeContainerChildren(){},supportsMutation:!0},eventHandler={batchedUpdates:function batchedUpdates(fn){fn()}},render_hostConfig=hostConfig;function registerComponent(type,constructor){components[type]=constructor}var package_0=__webpack_require__(286),pixi_es=(__webpack_require__(18),__webpack_require__(22),__webpack_require__(26),__webpack_require__(86),__webpack_require__(66),__webpack_require__(176),__webpack_require__(42),__webpack_require__(19),__webpack_require__(617),__webpack_require__(174),__webpack_require__(277),__webpack_require__(58),__webpack_require__(618),__webpack_require__(619),__webpack_require__(104),__webpack_require__(175),__webpack_require__(43),__webpack_require__(29),__webpack_require__(23),__webpack_require__(53));function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}registerComponent("container",pixi_es.b),registerComponent("sprite",function(_PIXI$Sprite){function Sprite(){return _classCallCheck(this,Sprite),_possibleConstructorReturn(this,_getPrototypeOf(Sprite).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Sprite,_PIXI$Sprite),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Sprite,[{key:"reactPropsInit",value:function reactPropsInit(props,init){var newProps=props;props.image&&(delete(newProps=function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},props)).image,newProps.texture=pixi_es.d.from(props.image)),init(this,newProps)}},{key:"reactPropsUpdate",value:function reactPropsUpdate(updatePayload,oldProps,newProps,update){var index=updatePayload.indexOf("image");-1!==index&&(_toConsumableArray(updatePayload).splice(index,1),this.texture=pixi_es.d.from(newProps.image)),update(this,updatePayload,oldProps,newProps)}}]),Sprite}(pixi_es.c));"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.portal");__webpack_require__.d(__webpack_exports__,"b",(function(){return render})),__webpack_require__.d(__webpack_exports__,"a",(function(){return asyncRenderApp}));var reconciler=react_reconciler_default()(render_hostConfig);function render(rootElement,container){container._rootContainer||(container._rootContainer=reconciler.createContainer(container,!1,!1)),reconciler.updateContainer(rootElement,container._rootContainer)}function asyncRenderApp(app){app.asyncRender||(app.asyncRender=function(){var _this=this;if(!this.__asyncing){this.__asyncing=!0;var run=function(){app.render(),_this.__asyncing=!1};"function"==typeof requestAnimationFrame?requestAnimationFrame(run):Promise.resolve().then(run)}})}eventHandler.batchedUpdates=function(fn){return reconciler.batchedUpdates(fn)},reconciler.injectIntoDevTools({findFiberByHostInstance:reconciler.findFiberByHostInstance,bundleType:1,version:package_0.a,rendererPackageName:"react-pixi-layer"})},179:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/button_test_BG.4049368c.jpeg"},180:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/buttonDown.c6862206.png"},286:function(module){module.exports=JSON.parse('{"a":"2.0.4"}')},288:function(module,exports,__webpack_require__){__webpack_require__(289),__webpack_require__(431),module.exports=__webpack_require__(432)},350:function(module,exports){},432:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(27),__webpack_require__(19),__webpack_require__(14),__webpack_require__(28),__webpack_require__(23);var _storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(92);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.addParameters)({options:{showAddonsPanel:!1,theme:{brandTitle:"react-pixi-layer",brandUrl:"https://github.com/yiminghe/react-pixi-layer/"}}});var req=__webpack_require__(613);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.configure)((function loadStories(){req.keys().forEach((function(filename){return req(filename)}))}),module)}.call(this,__webpack_require__(224)(module))},613:function(module,exports,__webpack_require__){var map={"./Demo.story.js":614};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=613},614:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(18),__webpack_require__(22),__webpack_require__(26),__webpack_require__(42),__webpack_require__(19),__webpack_require__(36),__webpack_require__(14),__webpack_require__(43),__webpack_require__(29),__webpack_require__(23);var _src__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(124),react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(11),react__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__),_storybook_react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(92),pixi_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(53),_button_png__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(123),_button_png__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_button_png__WEBPACK_IMPORTED_MODULE_14__),_button_test_BG_jpeg__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(179),_button_test_BG_jpeg__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_button_test_BG_jpeg__WEBPACK_IMPORTED_MODULE_15__),_buttonDown_png__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(180),_buttonDown_png__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_buttonDown_png__WEBPACK_IMPORTED_MODULE_16__);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var DemoStory=function(){var root=Object(react__WEBPACK_IMPORTED_MODULE_11__.useRef)();return Object(react__WEBPACK_IMPORTED_MODULE_11__.useEffect)((function(){var bgApp=new pixi_js__WEBPACK_IMPORTED_MODULE_13__.a({width:800,height:600,transparent:!0,autoStart:!1});Object(_src__WEBPACK_IMPORTED_MODULE_10__.a)(bgApp),root.current.appendChild(bgApp.view);var btnApp=new pixi_js__WEBPACK_IMPORTED_MODULE_13__.a({width:800,height:600,transparent:!0,autoStart:!1});Object(_src__WEBPACK_IMPORTED_MODULE_10__.a)(btnApp),btnApp.view.style.position="absolute",btnApp.view.style.left=0,btnApp.view.style.top=0,root.current.appendChild(btnApp.view),bgApp.renderer.plugins.interaction.setTargetElement(btnApp.view),bgApp.loader.add(_button_test_BG_jpeg__WEBPACK_IMPORTED_MODULE_15___default.a).add(_button_png__WEBPACK_IMPORTED_MODULE_14___default.a).add(_buttonDown_png__WEBPACK_IMPORTED_MODULE_16___default.a).load((function(){Object(_src__WEBPACK_IMPORTED_MODULE_10__.b)(_ref,{layers:{bg:bgApp.stage,btn:btnApp.stage},apps:{bg:bgApp,btn:btnApp}})}))}),[]),react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div",{ref:root,style:{position:"relative"}})};DemoStory.displayName="DemoStory";var _ref2=react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("sprite",{image:_button_test_BG_jpeg__WEBPACK_IMPORTED_MODULE_15___default.a,layers:"bg"}),RootContainer=function(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_11__.useState)(_button_png__WEBPACK_IMPORTED_MODULE_14___default.a),2),buttonImage=_useState2[0],setButtonImage=_useState2[1],onPointerdown=Object(react__WEBPACK_IMPORTED_MODULE_11__.useCallback)((function(){setButtonImage(_buttonDown_png__WEBPACK_IMPORTED_MODULE_16___default.a)}),[]),onPointerup=Object(react__WEBPACK_IMPORTED_MODULE_11__.useCallback)((function(){setButtonImage(_button_png__WEBPACK_IMPORTED_MODULE_14___default.a)}),[]),onPointertap=Object(react__WEBPACK_IMPORTED_MODULE_11__.useCallback)((function(){console.log("onPointertap")}),[]);return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("container",{layers:["bg","btn"]},_ref2,react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("sprite",{image:buttonImage,layers:"btn",position:{x:300,y:200},interactive:!0,onPointertap:onPointertap,onPointerdown:onPointerdown,onPointerup:onPointerup}))},_ref=react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(RootContainer,null);RootContainer.displayName="RootContainer";var _ref3=react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(DemoStory,null);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_12__.storiesOf)("demo",module).add("index",(function(){return _ref3})),DemoStory.__docgenInfo={description:"",methods:[],displayName:"DemoStory"},__webpack_exports__.default=DemoStory,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Demo.story.js"]={name:"DemoStory",docgenInfo:DemoStory.__docgenInfo,path:"stories/Demo.story.js"})}.call(this,__webpack_require__(224)(module))}},[[288,1,2]]]);
//# sourceMappingURL=main.38660d39d17e2f979bfc.bundle.js.map